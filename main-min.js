let numOfDays,factor;const percentage=(e,t)=>e/100*t,resultDiv=document.getElementById("result"),impact=e=>{const t=e.region.avgDailyIncomePopulation,a=e.region.avgDailyIncomeInUSD;if("days"===e.periodType)numOfDays=e.timeToElapse,factor=Math.trunc(numOfDays/3);else if("weeks"===e.periodType)numOfDays=7*e.timeToElapse,factor=Math.trunc(numOfDays/3);else{if("months"!==e.periodType)return"Invalid data type";numOfDays=30*e.timeToElapse,factor=Math.trunc(numOfDays/3)}const s=10*e.reportedCases,n=s*2**factor,r=percentage(n,15),i=percentage(e.totalHospitalBeds,35)-r,o=percentage(n,5),p=percentage(n,2),c=n*t*a/numOfDays;return{currentlyInfected:s,infectionsByRequestedTime:n,severeCasesByRequestedTime:Math.round(r),hospitalBedsByRequestedTime:Math.trunc(i),casesForICUByRequestedTime:Math.trunc(o),casesForVentilatorsByRequestedTime:Math.trunc(p),dollarsInFlight:Math.trunc(c)}},severeImpact=e=>{const t=e.region.avgDailyIncomePopulation,a=e.region.avgDailyIncomeInUSD;if("days"===e.periodType)numOfDays=e.timeToElapse,factor=Math.trunc(numOfDays/3);else if("weeks"===e.periodType)numOfDays=7*e.timeToElapse,factor=Math.trunc(numOfDays/3);else{if("months"!==e.periodType)return"Invalid data type";numOfDays=30*e.timeToElapse,factor=Math.trunc(numOfDays/3)}const s=50*e.reportedCases,n=s*2**factor,r=percentage(n,15),i=percentage(e.totalHospitalBeds,35)-r,o=percentage(n,5),p=percentage(n,2),c=n*t*a/numOfDays;return{currentlyInfected:s,infectionsByRequestedTime:n,severeCasesByRequestedTime:Math.round(r),hospitalBedsByRequestedTime:Math.trunc(i),casesForICUByRequestedTime:Math.trunc(o),casesForVentilatorsByRequestedTime:Math.trunc(p),dollarsInFlight:Math.trunc(c)}},covid19ImpactEstimator=e=>({data:e,impact:impact(e),severeImpact:severeImpact(e)}),onViewEstimate=()=>{resultDiv.innerHTML='\n  <div class="d-flex justify-content-center">\n    <div class="spinner-border" role="status">\n      <span class="sr-only">Loading...</span>\n    </div>\n  </div>\n  ';const e=document.querySelector("form"),t={region:{name:e.regionName.value,avgAge:e.avgAge.value,avgDailyIncomeInUSD:e.avgDailyIncomeInUSD.value,avgDailyIncomePopulation:e.avgDailyIncomePopulation.value},periodType:e.periodType.value,timeToElapse:e.timeToElapse.value,reportedCases:e.reportedCases.value,population:e.population.value,totalHospitalBeds:e.totalHospitalBeds.value},a={data:s=t,impact:impact(s),severeImpact:severeImpact(s)};var s;isNaN(a.impact.dollarsInFlight)?resultDiv.innerHTML='\n      <span>No estimate yet.</span><br><br>\n      <span style="color:red">Input correct values please.</span>\n    ':resultDiv.innerHTML=`\n      <div class="list-group-item clearfix">\n        <strong class="list-group-item-heading">Impact Data for ${a.data.region.name} - </strong><br><br>\n        <p>Currently Infected = ${a.impact.currentlyInfected}</p>\n        <p>Infections By Requested Time = ${a.impact.infectionsByRequestedTime}</p>\n        <p>Severe Cases By Requested Time = ${a.impact.severeCasesByRequestedTime}</p>\n        <p>Hospital Beds By Requested Time = ${a.impact.hospitalBedsByRequestedTime}</p>\n        <p>Cases For ICU By Requested Time = ${a.impact.casesForICUByRequestedTime}</p>\n        <p>Cases For Ventilators By Requested Time = ${a.impact.casesForVentilatorsByRequestedTime}</p>\n        <p>Dollars In Flight = ${a.impact.dollarsInFlight}</p>\n      </div>\n      <div class="list-group-item clearfix">\n        <strong class="list-group-item-heading">Severe Data for ${a.data.region.name} - </strong><br><br>\n        <p>Currently Infected = ${a.severeImpact.currentlyInfected}</p>\n        <p>Infections By Requested Time = ${a.severeImpact.infectionsByRequestedTime}</p>\n        <p>Severe Cases By Requested Time = ${a.severeImpact.severeCasesByRequestedTime}</p>\n        <p>Hospital Beds By Requested Time = ${a.severeImpact.hospitalBedsByRequestedTime}</p>\n        <p>Cases For ICU By Requested Time = ${a.severeImpact.casesForICUByRequestedTime}</p>\n        <p>Cases For Ventilators By Requested Time = ${a.severeImpact.casesForVentilatorsByRequestedTime}</p>\n        <p>Dollars In Flight = ${a.severeImpact.dollarsInFlight}</p>\n      </div>\n    `},onReset=()=>{resultDiv.innerHTML="\n    <span>No estimate yet.</span>\n  "};